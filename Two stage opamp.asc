Version 4
SHEET 1 2324 1164
WIRE 432 -192 224 -192
WIRE 752 -192 512 -192
WIRE 752 -128 752 -192
WIRE -48 0 -240 0
WIRE 48 0 -48 0
WIRE 224 0 224 -192
WIRE 224 0 48 0
WIRE 320 0 224 0
WIRE 384 0 320 0
WIRE 704 0 384 0
WIRE 752 0 704 0
WIRE 704 80 704 0
WIRE 48 96 48 0
WIRE 320 96 320 0
WIRE 656 96 512 96
WIRE 160 112 96 112
WIRE 272 112 160 112
WIRE 752 128 752 0
WIRE 752 128 704 128
WIRE -48 144 -48 0
WIRE 48 144 -48 144
WIRE 384 144 384 0
WIRE 384 144 320 144
WIRE 48 240 48 192
WIRE 160 240 160 112
WIRE 160 240 48 240
WIRE 320 256 320 192
WIRE 512 256 512 96
WIRE 512 256 320 256
WIRE 560 256 512 256
WIRE 704 256 704 176
WIRE 704 256 624 256
WIRE 752 256 704 256
WIRE 896 256 752 256
WIRE 944 256 896 256
WIRE -240 272 -240 0
WIRE 752 304 752 256
WIRE 896 304 896 256
WIRE 48 416 48 240
WIRE 320 416 320 256
WIRE 176 464 48 464
WIRE 320 464 176 464
WIRE 752 464 752 368
WIRE 896 464 896 384
WIRE 0 496 -144 496
WIRE 176 496 176 464
WIRE 544 496 368 496
WIRE 48 608 48 512
WIRE 160 608 48 608
WIRE 320 608 320 512
WIRE 320 608 160 608
WIRE -240 736 -240 352
WIRE -160 736 -240 736
WIRE -240 784 -240 736
WIRE 160 784 160 608
WIRE 704 784 704 256
WIRE -240 832 -320 832
WIRE 288 832 160 832
WIRE 800 832 704 832
WIRE -160 864 -160 736
WIRE -160 864 -192 864
WIRE 16 864 -160 864
WIRE 112 864 16 864
WIRE 16 928 16 864
WIRE 656 928 656 864
WIRE 656 928 16 928
WIRE -320 992 -320 832
WIRE -240 992 -240 880
WIRE -240 992 -320 992
WIRE 160 992 160 880
WIRE 160 992 -240 992
WIRE 240 992 160 992
WIRE 288 992 288 832
WIRE 288 992 240 992
WIRE 704 992 704 880
WIRE 704 992 288 992
WIRE 800 992 800 832
WIRE 800 992 704 992
WIRE 240 1072 240 992
FLAG 944 256 out
IOPIN 944 256 Out
FLAG 896 464 0
FLAG 752 -128 0
FLAG 224 -192 VDD
FLAG 752 464 0
FLAG 240 1072 0
FLAG 176 496 0
FLAG -144 496 in+
FLAG 544 496 in-
SYMBOL pmos4 96 192 R180
WINDOW 123 56 100 Left 2
SYMATTR Value2 l=300n w=1.5u
SYMATTR InstName M3
SYMATTR Value CMOSP
SYMBOL pmos4 272 192 M180
WINDOW 123 56 100 Left 2
SYMATTR Value2 l=300n w=1.5u
SYMATTR InstName M4
SYMATTR Value CMOSP
SYMBOL pmos4 656 176 M180
WINDOW 123 56 100 Left 2
SYMATTR Value2 l=300n  w=15u
SYMATTR InstName M6
SYMATTR Value CMOSP
SYMBOL nmos4 0 416 R0
WINDOW 123 56 100 Left 2
SYMATTR Value2 l=300n w=0.3u
SYMATTR InstName M1
SYMATTR Value CMOSN
SYMBOL nmos4 368 416 M0
WINDOW 123 -125 107 Left 2
SYMATTR Value2 l=300n w=0.3u
SYMATTR InstName M2
SYMATTR Value CMOSN
SYMBOL nmos4 656 784 R0
WINDOW 123 56 107 Left 2
SYMATTR Value2 l=300n w=10.5u
SYMATTR InstName M7
SYMATTR Value CMOSN
SYMBOL nmos4 112 784 R0
WINDOW 123 78 102 Left 2
SYMATTR Value2 l=300n w=2.1u
SYMATTR InstName M5
SYMATTR Value CMOSN
SYMBOL nmos4 -192 784 M0
WINDOW 123 77 6 Left 2
SYMATTR Value2 l=300n w=2.1u
SYMATTR InstName M8
SYMATTR Value CMOSN
SYMBOL current -240 272 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I1
SYMATTR Value 30µA
SYMBOL voltage 896 288 R0
WINDOW 123 24 124 Left 2
WINDOW 39 24 152 Left 2
SYMATTR Value2 AC 1
SYMATTR SpiceLine Rser=600
SYMATTR InstName V1
SYMATTR Value SINE(0 0.5 1K 0 0 180)
SYMBOL voltage 416 -192 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 -32 56 VBottom 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 1.5
SYMBOL cap 624 240 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 3p
SYMBOL cap 736 304 R0
SYMATTR InstName C2
SYMATTR Value 10p
TEXT 992 -104 Left 2 !.op \n.include tsmc018.txt
TEXT 1576 -104 Left 2 !;.tran 3m\n.meas TRAN out_pp MAX V(out) \n.meas TRAN in_pp MAX (V(in+)-V(in-))\n.meas KV param out_pp/in_pp \n;.meas pout param V(vdd)*(Id(M5)+(-Id(M6)))
TEXT 992 -24 Left 2 !.ac dec 100 1 100G\n.meas AC peak MAX V(out)/(V(in+)-V(in-))
TEXT 984 40 Left 2 !.meas Zin find V(in+)/I(V1) at 1k
TEXT 984 80 Left 2 !.meas Zout find V(out)/I(V1) at 1k
